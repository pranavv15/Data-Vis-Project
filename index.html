<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Vis Project</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>

</head>
<body>
    <script>
    data = "Cancer-Data.csv"
    d3.csv(data, function(d){
        return {
            State: String(d.States),
            Male:   Number(d["Male"]),
            Female: Number(d["Female"])
        }
    }).then(d => {
        console.log(d)

        let stack = d3.stack().keys(["Male","Female"])
        stackedseries = stack(d)

        console.log(stackedseries)

        // get min and max and make scaling functions

        let xmin_max = {min:0,max: d3.max(stackedseries, function(d){
            return d3.max(d, function(d){
                return d[1];
            })
        })}
        console.log(xmin_max)

        // Make Scaling Functions

        xScale = d3.scaleLinear().domain([xmin_max.min, xmin_max.max]).range([0,1000])
        yScale = d3.scaleBand().domain(d.States).range([600,0])


        let groups = svg.selectAll('g').data(stackedseries).enter().append('g');
        console.log(groups)
        // let svg = d3.select("body").append('svg')

        // xScale = d3.scaleLinear().domain().range()
        // yScale = d3.scaleLinear().domain().range()
        
    })
    </script>
    
</body>
</html>